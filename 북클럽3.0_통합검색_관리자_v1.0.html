<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no,viewport-fit=cover">
<title>ë¶í´ëŸ½ 3.0 í†µí•©ê²€ìƒ‰ ê´€ë¦¬ì v1.0</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Apple SD Gothic Neo',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;-webkit-tap-highlight-color:transparent}
html,body,#root{width:100%;height:100%;overflow:hidden;background:#F8FAFC}

@keyframes slide-up{0%{transform:translateY(20px);opacity:0}100%{transform:translateY(0);opacity:1}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.anim-slide-up{animation:slide-up 0.3s ease-out both}

.custom-scroll::-webkit-scrollbar{width:8px}
.custom-scroll::-webkit-scrollbar-track{background:#F1F5F9;border-radius:10px}
.custom-scroll::-webkit-scrollbar-thumb{background:#CBD5E1;border-radius:10px}

.status-badge{
  padding:4px 12px;
  border-radius:12px;
  font-size:12px;
  font-weight:600;
}
.status-active{background:#D1FAE5;color:#065F46}
.status-suspended{background:#FEE2E2;color:#991B1B}
.status-pending{background:#FEF3C7;color:#92400E}

.progress-bar{
  height:8px;
  border-radius:4px;
  background:#E5E7EB;
  overflow:hidden;
}
.progress-fill{
  height:100%;
  transition:width 0.3s ease;
}
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const {useState,useEffect,useRef,useCallback,useMemo} = React;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ìƒ˜í”Œ ë°ì´í„°
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const SAMPLE_ASSETS = [
  {id:'A123456', title:'ì‹ ë¹„ì•„íŒŒíŠ¸ ê³ ìŠ¤íŠ¸ë³¼ Xì˜ íƒ„ìƒ', author:'ì„œìš¸ë¬¸í™”ì‚¬ í¸ì§‘ë¶€', publisher:'ì„œìš¸ë¬¸í™”ì‚¬', isbn:'9788926377123', krsLevel:3, searchVisibility:'auto', contentStatus:'active', serviceTarget:'all', metadataCompleteness:95, qualityScore:100, copyrightStatus:'normal', rating:'all', hasLegalIssue:false, lastIndexedAt:'2025-02-10 14:32:15', isSearchable:true},
  {id:'A234567', title:'ë˜ë´‡ ì–´ë“œë²¤ì²˜', author:'ë ˆíŠ¸ë¡œë´‡', publisher:'ì˜ì‹¤ì—…', isbn:'9781234567890', krsLevel:3, searchVisibility:'auto', contentStatus:'active', serviceTarget:'all', metadataCompleteness:88, qualityScore:100, copyrightStatus:'normal', rating:'all', hasLegalIssue:false, lastIndexedAt:'2025-02-10 13:15:42', isSearchable:true},
  {id:'A345678', title:'ì‹ ë¹„í•œ ë§ˆë²•ì˜ ì„±', author:'ê¹€ë§ˆë²•', publisher:'ë§ˆë²•ì¶œíŒì‚¬', isbn:'9782345678901', krsLevel:3, searchVisibility:'force_hide', contentStatus:'active', serviceTarget:'all', metadataCompleteness:72, qualityScore:85, copyrightStatus:'normal', rating:'all', hasLegalIssue:false, lastIndexedAt:null, isSearchable:false},
  {id:'A456789', title:'ê³µë£¡ ëŒ€íƒí—˜', author:'ê¹€ê³µë£¡', publisher:'ê³¼í•™ë‚˜ë¼', isbn:'9783456789012', krsLevel:4, searchVisibility:'auto', contentStatus:'suspended', serviceTarget:'all', metadataCompleteness:91, qualityScore:70, copyrightStatus:'pending', rating:'all', hasLegalIssue:false, lastIndexedAt:'2025-02-09 18:23:11', isSearchable:false},
  {id:'A567890', title:'ë§ˆë²• í•™êµ 1í•™ë…„', author:'ì •ë§ˆë²•', publisher:'ë§ˆë²•ì¶œíŒ', isbn:'9784567890123', krsLevel:4, searchVisibility:'force_show', contentStatus:'active', serviceTarget:'premium', metadataCompleteness:100, qualityScore:95, copyrightStatus:'normal', rating:'all', hasLegalIssue:false, lastIndexedAt:'2025-02-10 15:01:33', isSearchable:true},
];

const INDEXING_LOGS = [
  {id:1, assetId:'A123456', timestamp:'2025-02-10 14:32:15', status:'success', duration:234, message:'ì¸ë±ì‹± ì„±ê³µ'},
  {id:2, assetId:'A234567', timestamp:'2025-02-10 13:15:42', status:'success', duration:189, message:'ì¸ë±ì‹± ì„±ê³µ'},
  {id:3, assetId:'A456789', timestamp:'2025-02-10 12:45:21', status:'failed', duration:5023, message:'ì¸ë±ì‹± ì‹¤íŒ¨: ì €ì‘ê¶Œ ë¯¸í™•ì •', retryCount:3},
  {id:4, assetId:'A567890', timestamp:'2025-02-10 15:01:33', status:'success', duration:312, message:'ì¸ë±ì‹± ì„±ê³µ'},
  {id:5, assetId:'A345678', timestamp:'2025-02-10 11:23:54', status:'skipped', duration:12, message:'ë…¸ì¶œ ì¡°ê±´ ë¯¸ë‹¬: ë©”íƒ€ë°ì´í„° ì™„ì„±ë„ ë¶€ì¡±'},
];

const SEARCH_STATS = {
  totalSearches: 12345,
  successRate: 97.5,
  avgResponseTime: 245,
  indexedAssets: 18234,
  searchableAssets: 15678,
  lastUpdated: '2025-02-10 15:30:00'
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ë©”ì¸ ê´€ë¦¬ì ì»´í¬ë„ŒíŠ¸
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function AdminApp() {
  const [activeTab, setActiveTab] = useState('assets'); // assets, logs, stats
  const [selectedAsset, setSelectedAsset] = useState(null);
  const [assets, setAssets] = useState(SAMPLE_ASSETS);
  const [filterStatus, setFilterStatus] = useState('all');

  const filteredAssets = useMemo(() => {
    if (filterStatus === 'all') return assets;
    if (filterStatus === 'searchable') return assets.filter(a => a.isSearchable);
    if (filterStatus === 'hidden') return assets.filter(a => !a.isSearchable);
    return assets;
  }, [assets, filterStatus]);

  return (
    <div className="w-full h-full flex">
      {/* ì‚¬ì´ë“œë°” */}
      <div className="w-64 bg-gray-900 text-white shrink-0 flex flex-col">
        <div className="p-6 border-b border-gray-700">
          <div className="text-2xl mb-2">âš™ï¸</div>
          <h1 className="text-xl font-black">ê²€ìƒ‰ ê´€ë¦¬ì</h1>
          <p className="text-xs text-gray-400 mt-1">í†µí•©ê²€ìƒ‰ ì‹œìŠ¤í…œ</p>
        </div>

        <nav className="flex-1 p-4">
          <button
            onClick={() => setActiveTab('assets')}
            className={`w-full text-left px-4 py-3 rounded-lg mb-2 font-semibold transition-all ${
              activeTab === 'assets' ? 'bg-blue-600' : 'hover:bg-gray-800'
            }`}
          >
            ğŸ“š ìì¬ ê²€ìƒ‰ ê´€ë¦¬
          </button>
          <button
            onClick={() => setActiveTab('logs')}
            className={`w-full text-left px-4 py-3 rounded-lg mb-2 font-semibold transition-all ${
              activeTab === 'logs' ? 'bg-blue-600' : 'hover:bg-gray-800'
            }`}
          >
            ğŸ“‹ ì¸ë±ì‹± ë¡œê·¸
          </button>
          <button
            onClick={() => setActiveTab('stats')}
            className={`w-full text-left px-4 py-3 rounded-lg mb-2 font-semibold transition-all ${
              activeTab === 'stats' ? 'bg-blue-600' : 'hover:bg-gray-800'
            }`}
          >
            ğŸ“Š í†µê³„ ëŒ€ì‹œë³´ë“œ
          </button>
        </nav>

        <div className="p-4 border-t border-gray-700 text-xs text-gray-400">
          <div>ê´€ë¦¬ì: admin@bookclub.com</div>
          <div className="mt-1">v1.0 Prototype</div>
        </div>
      </div>

      {/* ë©”ì¸ ì»¨í…ì¸  */}
      <div className="flex-1 flex flex-col">
        {activeTab === 'assets' && (
          <AssetsTab
            assets={filteredAssets}
            filterStatus={filterStatus}
            setFilterStatus={setFilterStatus}
            selectedAsset={selectedAsset}
            setSelectedAsset={setSelectedAsset}
            setAssets={setAssets}
          />
        )}
        {activeTab === 'logs' && <LogsTab logs={INDEXING_LOGS} />}
        {activeTab === 'stats' && <StatsTab stats={SEARCH_STATS} />}
      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ìì¬ ê²€ìƒ‰ ê´€ë¦¬ íƒ­
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function AssetsTab({assets, filterStatus, setFilterStatus, selectedAsset, setSelectedAsset, setAssets}) {
  const handleUpdateVisibility = (assetId, newVisibility) => {
    setAssets(prev => prev.map(a =>
      a.id === assetId
        ? {
            ...a,
            searchVisibility: newVisibility,
            isSearchable: calculateSearchable({...a, searchVisibility: newVisibility}),
            lastIndexedAt: new Date().toLocaleString('sv-SE').replace(' ', ' ')
          }
        : a
    ));
  };

  const calculateSearchable = (asset) => {
    if (asset.searchVisibility === 'force_hide') return false;
    if (asset.searchVisibility === 'force_show' && !asset.hasLegalIssue) return true;
    // auto ëª¨ë“œ
    return (
      asset.contentStatus === 'active' &&
      asset.metadataCompleteness >= 80 &&
      asset.qualityScore >= 60 &&
      asset.copyrightStatus === 'normal' &&
      asset.rating !== 'pending'
    );
  };

  const triggerReindex = (assetId) => {
    alert(`[ì‹œë®¬ë ˆì´ì…˜] ${assetId} ì¬ì¸ë±ì‹± íŠ¸ë¦¬ê±°\n\nì‹¤ì œë¡œëŠ” Kafka ë©”ì‹œì§€ ë°œí–‰ ë˜ëŠ” API í˜¸ì¶œ`);
    setAssets(prev => prev.map(a =>
      a.id === assetId
        ? {...a, lastIndexedAt: new Date().toLocaleString('sv-SE').replace(' ', ' ')}
        : a
    ));
  };

  return (
    <div className="flex-1 flex">
      {/* ìì¬ ëª©ë¡ */}
      <div className="flex-1 flex flex-col">
        <div className="shrink-0 bg-white border-b border-gray-200 p-6">
          <div className="flex items-center justify-between mb-4">
            <h2 className="text-2xl font-black text-gray-800">ìì¬ ê²€ìƒ‰ ê´€ë¦¬</h2>
            <div className="flex items-center gap-2">
              <span className="text-sm text-gray-600">ì´ {assets.length}ê±´</span>
            </div>
          </div>

          {/* í•„í„° */}
          <div className="flex gap-2">
            {[
              {key:'all', label:'ì „ì²´', count:assets.length},
              {key:'searchable', label:'ë…¸ì¶œ ì¤‘', count:assets.filter(a=>a.isSearchable).length},
              {key:'hidden', label:'ìˆ¨ê¹€', count:assets.filter(a=>!a.isSearchable).length},
            ].map(filter => (
              <button
                key={filter.key}
                onClick={() => setFilterStatus(filter.key)}
                className={`px-4 py-2 rounded-lg font-semibold text-sm transition-all ${
                  filterStatus === filter.key
                    ? 'bg-blue-500 text-white'
                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                }`}
              >
                {filter.label} ({filter.count})
              </button>
            ))}
          </div>
        </div>

        <div className="flex-1 overflow-y-auto custom-scroll bg-gray-50 p-6">
          <div className="space-y-3">
            {assets.map((asset, idx) => (
              <div
                key={asset.id}
                className={`bg-white rounded-xl p-4 shadow-sm cursor-pointer transition-all hover:shadow-md ${
                  selectedAsset?.id === asset.id ? 'ring-2 ring-blue-500' : ''
                }`}
                onClick={() => setSelectedAsset(asset)}
              >
                <div className="flex items-start justify-between mb-2">
                  <div className="flex-1">
                    <div className="flex items-center gap-2 mb-1">
                      <h3 className="font-bold text-gray-800">{asset.title}</h3>
                      {asset.isSearchable ? (
                        <span className="status-badge status-active">âœ“ ë…¸ì¶œ ì¤‘</span>
                      ) : (
                        <span className="status-badge status-suspended">âœ• ìˆ¨ê¹€</span>
                      )}
                    </div>
                    <p className="text-sm text-gray-600">{asset.author} Â· {asset.publisher}</p>
                    <p className="text-xs text-gray-400 mt-1">ID: {asset.id} Â· KRS Lv.{asset.krsLevel}</p>
                  </div>
                  <div className="text-right text-xs text-gray-500">
                    {asset.lastIndexedAt ? (
                      <div>
                        <div>ë§ˆì§€ë§‰ ì¸ë±ì‹±:</div>
                        <div className="font-mono">{asset.lastIndexedAt}</div>
                      </div>
                    ) : (
                      <div className="text-gray-400">ë¯¸ì¸ë±ì‹±</div>
                    )}
                  </div>
                </div>

                <div className="flex items-center gap-4 text-xs">
                  <div className="flex items-center gap-1">
                    <span className="text-gray-500">ë©”íƒ€ë°ì´í„°:</span>
                    <span className={`font-bold ${asset.metadataCompleteness >= 80 ? 'text-green-600' : 'text-red-600'}`}>
                      {asset.metadataCompleteness}%
                    </span>
                  </div>
                  <div className="flex items-center gap-1">
                    <span className="text-gray-500">í’ˆì§ˆ:</span>
                    <span className={`font-bold ${asset.qualityScore >= 60 ? 'text-green-600' : 'text-red-600'}`}>
                      {asset.qualityScore}ì 
                    </span>
                  </div>
                  <div className="flex items-center gap-1">
                    <span className="text-gray-500">ìƒíƒœ:</span>
                    <span className="font-bold">{asset.contentStatus}</span>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* ìƒì„¸ íŒ¨ë„ */}
      {selectedAsset && (
        <AssetDetailPanel
          asset={selectedAsset}
          onUpdate={handleUpdateVisibility}
          onReindex={triggerReindex}
          onClose={() => setSelectedAsset(null)}
        />
      )}
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ìì¬ ìƒì„¸ íŒ¨ë„
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function AssetDetailPanel({asset, onUpdate, onReindex, onClose}) {
  const [localVisibility, setLocalVisibility] = useState(asset.searchVisibility);
  const [hasChanges, setHasChanges] = useState(false);

  useEffect(() => {
    setLocalVisibility(asset.searchVisibility);
    setHasChanges(false);
  }, [asset]);

  const handleSave = () => {
    onUpdate(asset.id, localVisibility);
    setHasChanges(false);
  };

  const getAutoStatus = () => {
    const checks = [
      {label:'ë©”íƒ€ë°ì´í„° ì™„ì„±ë„', pass:asset.metadataCompleteness >= 80, value:`${asset.metadataCompleteness}/100`},
      {label:'í’ˆì§ˆ ì ìˆ˜', pass:asset.qualityScore >= 60, value:`${asset.qualityScore}/100`},
      {label:'ì½˜í…ì¸  ìƒíƒœ', pass:asset.contentStatus === 'active', value:asset.contentStatus},
      {label:'ì €ì‘ê¶Œ', pass:asset.copyrightStatus === 'normal', value:asset.copyrightStatus},
      {label:'ì‹¬ì˜ ë“±ê¸‰', pass:asset.rating !== 'pending', value:asset.rating},
    ];
    return checks;
  };

  const autoChecks = getAutoStatus();
  const allPass = autoChecks.every(c => c.pass);

  return (
    <div className="w-[500px] bg-white border-l border-gray-200 shrink-0 flex flex-col anim-slide-up">
      <div className="shrink-0 bg-gradient-to-r from-blue-500 to-purple-500 text-white p-6">
        <div className="flex items-start justify-between mb-3">
          <div>
            <h2 className="text-xl font-black mb-1">ğŸ” ê²€ìƒ‰ ë…¸ì¶œ ì„¤ì •</h2>
            <p className="text-sm opacity-90">{asset.title}</p>
          </div>
          <button
            onClick={onClose}
            className="text-white hover:bg-white/20 rounded-lg p-2 transition-all"
          >
            âœ•
          </button>
        </div>
        <div className="text-xs opacity-75">
          Asset ID: {asset.id}
        </div>
      </div>

      <div className="flex-1 overflow-y-auto custom-scroll p-6">
        {/* ê²€ìƒ‰ ë…¸ì¶œ ëª¨ë“œ */}
        <div className="mb-6">
          <label className="block text-sm font-bold text-gray-700 mb-3">ê²€ìƒ‰ ë…¸ì¶œ ëª¨ë“œ</label>
          <div className="space-y-2">
            <label className={`flex items-start gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all ${
              localVisibility === 'auto' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'
            }`}>
              <input
                type="radio"
                name="visibility"
                value="auto"
                checked={localVisibility === 'auto'}
                onChange={(e) => {setLocalVisibility(e.target.value); setHasChanges(true)}}
                className="mt-1"
              />
              <div className="flex-1">
                <div className="font-semibold text-gray-800">â—‰ ìë™ (ê¶Œì¥)</div>
                <div className="text-xs text-gray-500 mt-1">
                  í˜„ì¬ ìƒíƒœ: {asset.isSearchable && localVisibility === 'auto' ? (
                    <span className="text-green-600 font-bold">âœ… ë…¸ì¶œ ì¤‘</span>
                  ) : (
                    <span className="text-red-600 font-bold">âœ• ì¡°ê±´ ë¯¸ë‹¬</span>
                  )}
                </div>
                <div className="text-xs text-gray-400 mt-1">
                  ì •ì±…ì— ë”°ë¼ ìë™ ê²°ì •
                </div>
              </div>
            </label>

            <label className={`flex items-start gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all ${
              localVisibility === 'force_show' ? 'border-orange-500 bg-orange-50' : 'border-gray-200 hover:border-gray-300'
            }`}>
              <input
                type="radio"
                name="visibility"
                value="force_show"
                checked={localVisibility === 'force_show'}
                onChange={(e) => {setLocalVisibility(e.target.value); setHasChanges(true)}}
                className="mt-1"
              />
              <div className="flex-1">
                <div className="font-semibold text-gray-800">â—‰ ê°•ì œ ë…¸ì¶œ</div>
                <div className="text-xs text-orange-600 font-semibold mt-1">
                  âš ï¸ ì •ì±… ìœ„ë°˜ ì‹œì—ë„ ë…¸ì¶œë©ë‹ˆë‹¤
                </div>
                <div className="text-xs text-gray-400 mt-1">
                  í”„ë¡œëª¨ì…˜ ë“± íŠ¹ìˆ˜ ëª©ì ìš©
                </div>
              </div>
            </label>

            <label className={`flex items-start gap-3 p-4 border-2 rounded-xl cursor-pointer transition-all ${
              localVisibility === 'force_hide' ? 'border-red-500 bg-red-50' : 'border-gray-200 hover:border-gray-300'
            }`}>
              <input
                type="radio"
                name="visibility"
                value="force_hide"
                checked={localVisibility === 'force_hide'}
                onChange={(e) => {setLocalVisibility(e.target.value); setHasChanges(true)}}
                className="mt-1"
              />
              <div className="flex-1">
                <div className="font-semibold text-gray-800">â—‰ ê°•ì œ ìˆ¨ê¹€</div>
                <div className="text-xs text-gray-500 mt-1">
                  í˜„ì¬ ìƒíƒœ: <span className="text-red-600 font-bold">ì ˆëŒ€ ë…¸ì¶œ ì•ˆ í•¨</span>
                </div>
                <div className="text-xs text-gray-400 mt-1">
                  ì¼ì‹œì  ìˆ¨ê¹€ ì²˜ë¦¬
                </div>
              </div>
            </label>
          </div>
        </div>

        {/* ìë™ ë…¸ì¶œ ì¡°ê±´ ì²´í¬ */}
        <div className="bg-gray-50 rounded-xl p-4 mb-6">
          <h3 className="font-bold text-gray-700 text-sm mb-3">ğŸ“Š ìë™ ë…¸ì¶œ ì¡°ê±´ ì²´í¬</h3>
          <div className="space-y-2">
            {autoChecks.map((check, idx) => (
              <div key={idx} className="flex items-center justify-between text-sm">
                <div className="flex items-center gap-2">
                  <span className={check.pass ? 'text-green-600' : 'text-red-600'}>
                    {check.pass ? 'âœ…' : 'âŒ'}
                  </span>
                  <span className="text-gray-700">{check.label}</span>
                </div>
                <span className={`font-semibold ${check.pass ? 'text-green-600' : 'text-red-600'}`}>
                  {check.value}
                </span>
              </div>
            ))}
          </div>
          {allPass ? (
            <div className="mt-3 text-xs text-green-700 bg-green-100 rounded-lg p-2 font-semibold">
              âœ“ ëª¨ë“  ì¡°ê±´ ì¶©ì¡± - ìë™ ë…¸ì¶œ ê°€ëŠ¥
            </div>
          ) : (
            <div className="mt-3 text-xs text-red-700 bg-red-100 rounded-lg p-2 font-semibold">
              âœ• ì¡°ê±´ ë¯¸ë‹¬ - ìë™ ë…¸ì¶œ ë¶ˆê°€
            </div>
          )}
        </div>

        {/* ë©”íƒ€ë°ì´í„° ìƒì„¸ */}
        <div className="border border-gray-200 rounded-xl p-4 mb-6">
          <h3 className="font-bold text-gray-700 text-sm mb-3">ğŸ“ ë©”íƒ€ë°ì´í„° ìƒì„¸</h3>
          <div className="space-y-2 text-sm">
            <div className="flex justify-between">
              <span className="text-gray-600">ISBN:</span>
              <span className="font-mono">{asset.isbn}</span>
            </div>
            <div className="flex justify-between">
              <span className="text-gray-600">KRS ë ˆë²¨:</span>
              <span className="font-semibold">Lv.{asset.krsLevel}</span>
            </div>
            <div className="flex justify-between">
              <span className="text-gray-600">ì„œë¹„ìŠ¤ íƒ€ê²Ÿ:</span>
              <span className="font-semibold">{asset.serviceTarget}</span>
            </div>
            <div className="flex justify-between">
              <span className="text-gray-600">ì‹¬ì˜ ë“±ê¸‰:</span>
              <span className="font-semibold">{asset.rating}</span>
            </div>
          </div>

          <div className="mt-4">
            <div className="flex justify-between text-xs mb-1">
              <span className="text-gray-600">ë©”íƒ€ë°ì´í„° ì™„ì„±ë„</span>
              <span className="font-bold">{asset.metadataCompleteness}%</span>
            </div>
            <div className="progress-bar">
              <div
                className={`progress-fill ${asset.metadataCompleteness >= 80 ? 'bg-green-500' : 'bg-red-500'}`}
                style={{width: `${asset.metadataCompleteness}%`}}
              ></div>
            </div>
          </div>
        </div>

        {/* ë§ˆì§€ë§‰ ì¸ë±ì‹± */}
        <div className="bg-blue-50 rounded-xl p-4">
          <div className="flex items-center justify-between mb-2">
            <h3 className="font-bold text-blue-900 text-sm">ğŸ• ë§ˆì§€ë§‰ ì¸ë±ì‹±</h3>
            <button
              onClick={() => onReindex(asset.id)}
              className="text-xs px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 active:scale-95 transition-all font-semibold"
            >
              ğŸ”„ ì¦‰ì‹œ ì¬ì¸ë±ì‹±
            </button>
          </div>
          <div className="text-sm font-mono text-blue-700">
            {asset.lastIndexedAt || 'ì•„ì§ ì¸ë±ì‹±ë˜ì§€ ì•ŠìŒ'}
          </div>
        </div>
      </div>

      {/* í•˜ë‹¨ ë²„íŠ¼ */}
      <div className="shrink-0 border-t border-gray-200 p-6 bg-white">
        {hasChanges && (
          <div className="mb-3 text-xs text-orange-600 bg-orange-50 rounded-lg p-2 font-semibold">
            âš ï¸ ë³€ê²½ ì‚¬í•­ì´ ì €ì¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤
          </div>
        )}
        <div className="flex gap-2">
          <button
            onClick={handleSave}
            disabled={!hasChanges}
            className={`flex-1 py-3 rounded-xl font-bold transition-all ${
              hasChanges
                ? 'bg-blue-500 text-white hover:bg-blue-600 active:scale-95'
                : 'bg-gray-200 text-gray-400 cursor-not-allowed'
            }`}
          >
            ğŸ’¾ ì €ì¥
          </button>
          <button
            onClick={onClose}
            className="px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 active:scale-95 transition-all"
          >
            ì·¨ì†Œ
          </button>
        </div>
      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ì¸ë±ì‹± ë¡œê·¸ íƒ­
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function LogsTab({logs}) {
  return (
    <div className="flex-1 flex flex-col">
      <div className="shrink-0 bg-white border-b border-gray-200 p-6">
        <h2 className="text-2xl font-black text-gray-800">ì¸ë±ì‹± ë¡œê·¸</h2>
        <p className="text-sm text-gray-600 mt-1">ì‹¤ì‹œê°„ ì¸ë±ì‹± íŒŒì´í”„ë¼ì¸ ëª¨ë‹ˆí„°ë§</p>
      </div>

      <div className="flex-1 overflow-y-auto custom-scroll bg-gray-50 p-6">
        <div className="bg-white rounded-xl shadow-sm overflow-hidden">
          <table className="w-full">
            <thead className="bg-gray-50 border-b border-gray-200">
              <tr>
                <th className="px-4 py-3 text-left text-xs font-bold text-gray-600">ì‹œê°</th>
                <th className="px-4 py-3 text-left text-xs font-bold text-gray-600">Asset ID</th>
                <th className="px-4 py-3 text-left text-xs font-bold text-gray-600">ìƒíƒœ</th>
                <th className="px-4 py-3 text-left text-xs font-bold text-gray-600">ì†Œìš”ì‹œê°„</th>
                <th className="px-4 py-3 text-left text-xs font-bold text-gray-600">ë©”ì‹œì§€</th>
              </tr>
            </thead>
            <tbody>
              {logs.map((log, idx) => (
                <tr key={log.id} className="border-b border-gray-100 hover:bg-gray-50">
                  <td className="px-4 py-3 text-sm font-mono text-gray-600">{log.timestamp}</td>
                  <td className="px-4 py-3 text-sm font-mono text-blue-600">{log.assetId}</td>
                  <td className="px-4 py-3">
                    {log.status === 'success' && <span className="status-badge status-active">âœ“ ì„±ê³µ</span>}
                    {log.status === 'failed' && <span className="status-badge status-suspended">âœ• ì‹¤íŒ¨</span>}
                    {log.status === 'skipped' && <span className="status-badge status-pending">âŠ˜ ìŠ¤í‚µ</span>}
                  </td>
                  <td className="px-4 py-3 text-sm text-gray-600">{log.duration}ms</td>
                  <td className="px-4 py-3 text-sm text-gray-700">
                    {log.message}
                    {log.retryCount && <span className="ml-2 text-xs text-red-600">(ì¬ì‹œë„ {log.retryCount}íšŒ)</span>}
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   í†µê³„ ëŒ€ì‹œë³´ë“œ íƒ­
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function StatsTab({stats}) {
  return (
    <div className="flex-1 flex flex-col">
      <div className="shrink-0 bg-white border-b border-gray-200 p-6">
        <h2 className="text-2xl font-black text-gray-800">í†µê³„ ëŒ€ì‹œë³´ë“œ</h2>
        <p className="text-sm text-gray-600 mt-1">ê²€ìƒ‰ ì‹œìŠ¤í…œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</p>
      </div>

      <div className="flex-1 overflow-y-auto custom-scroll bg-gray-50 p-6">
        <div className="grid grid-cols-2 gap-6">
          {/* ê²€ìƒ‰ í†µê³„ */}
          <div className="bg-white rounded-xl shadow-sm p-6">
            <div className="flex items-center gap-3 mb-4">
              <div className="text-3xl">ğŸ”</div>
              <div>
                <h3 className="font-bold text-gray-800">ì´ ê²€ìƒ‰ ìˆ˜</h3>
                <p className="text-xs text-gray-500">ì˜¤ëŠ˜</p>
              </div>
            </div>
            <div className="text-4xl font-black text-blue-600">{stats.totalSearches.toLocaleString()}</div>
          </div>

          {/* ì„±ê³µë¥  */}
          <div className="bg-white rounded-xl shadow-sm p-6">
            <div className="flex items-center gap-3 mb-4">
              <div className="text-3xl">âœ…</div>
              <div>
                <h3 className="font-bold text-gray-800">ê²€ìƒ‰ ì„±ê³µë¥ </h3>
                <p className="text-xs text-gray-500">ê²°ê³¼ 1ê±´ ì´ìƒ</p>
              </div>
            </div>
            <div className="text-4xl font-black text-green-600">{stats.successRate}%</div>
          </div>

          {/* ì‘ë‹µ ì‹œê°„ */}
          <div className="bg-white rounded-xl shadow-sm p-6">
            <div className="flex items-center gap-3 mb-4">
              <div className="text-3xl">âš¡</div>
              <div>
                <h3 className="font-bold text-gray-800">í‰ê·  ì‘ë‹µ ì‹œê°„</h3>
                <p className="text-xs text-gray-500">p95</p>
              </div>
            </div>
            <div className="text-4xl font-black text-purple-600">{stats.avgResponseTime}ms</div>
          </div>

          {/* ì¸ë±ì‹± í˜„í™© */}
          <div className="bg-white rounded-xl shadow-sm p-6">
            <div className="flex items-center gap-3 mb-4">
              <div className="text-3xl">ğŸ“š</div>
              <div>
                <h3 className="font-bold text-gray-800">ì¸ë±ì‹± í˜„í™©</h3>
                <p className="text-xs text-gray-500">ë…¸ì¶œ ê°€ëŠ¥ ìì¬</p>
              </div>
            </div>
            <div className="text-4xl font-black text-orange-600">
              {stats.searchableAssets.toLocaleString()}
              <span className="text-xl text-gray-400"> / {stats.indexedAssets.toLocaleString()}</span>
            </div>
            <div className="mt-3">
              <div className="progress-bar">
                <div
                  className="progress-fill bg-orange-500"
                  style={{width: `${(stats.searchableAssets / stats.indexedAssets * 100)}%`}}
                ></div>
              </div>
            </div>
          </div>
        </div>

        {/* ì‹œìŠ¤í…œ ìƒíƒœ */}
        <div className="mt-6 bg-white rounded-xl shadow-sm p-6">
          <h3 className="font-bold text-gray-800 mb-4">ğŸ–¥ï¸ ì‹œìŠ¤í…œ ìƒíƒœ</h3>
          <div className="space-y-3">
            <div className="flex items-center justify-between py-2 border-b border-gray-100">
              <span className="text-sm text-gray-600">OpenSearch Cluster</span>
              <span className="status-badge status-active">ğŸŸ¢ ì •ìƒ</span>
            </div>
            <div className="flex items-center justify-between py-2 border-b border-gray-100">
              <span className="text-sm text-gray-600">Kafka Pipeline</span>
              <span className="status-badge status-active">ğŸŸ¢ ì •ìƒ</span>
            </div>
            <div className="flex items-center justify-between py-2 border-b border-gray-100">
              <span className="text-sm text-gray-600">Indexer Service</span>
              <span className="status-badge status-active">ğŸŸ¢ ì •ìƒ</span>
            </div>
            <div className="flex items-center justify-between py-2">
              <span className="text-sm text-gray-600">Circuit Breaker</span>
              <span className="status-badge status-active">ğŸŸ¢ CLOSED</span>
            </div>
          </div>
        </div>

        <div className="mt-4 text-xs text-gray-400 text-center">
          ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: {stats.lastUpdated}
        </div>
      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ë Œë”ë§
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
ReactDOM.createRoot(document.getElementById('root')).render(<AdminApp />);
</script>
</body>
</html>
